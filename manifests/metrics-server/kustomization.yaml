# https://github.com/kubernetes-sigs/metrics-server/tree/master/charts/metrics-server
---
apiVersion: "kustomize.config.k8s.io/v1beta1"
kind: "Kustomization"
namespace: "metrics-server"
resources:
  - "namespace.yaml"
helmCharts:
  - repo: "https://kubernetes-sigs.github.io/metrics-server/"
    name: "metrics-server"
    releaseName: "metrics-server"
    version: "3.12.2"
    includeCRDs: true
    namespace: "metrics-server"
    valuesInline:
      serviceAccount:
        create: true
      rbac:
        create: true
      apiService:
        create: true
        insecureSkipTLSVerify: true
      replicas: 1
      service:
        type: "ClusterIP"
        port: 443
      addonResizer:
        enabled: false
      metrics:
        enabled: true
      serviceMonitor:
        enabled: false
      tls:
        type: "metrics-server"
